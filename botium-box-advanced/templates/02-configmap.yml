apiVersion: v1
kind: ConfigMap
metadata:
  name: botium-box-configmap
  labels:
    name: config
    app: botium-box
data:
  LICENSE_KEY: "{{ .Values.LICENSE_KEY }}"
  COACH_WORKER_ENDPOINT: "{{ .Values.COACH_WORKER_ENDPOINT }}"
  SPEECH_PROCESSING_ENDPOINT: "{{ .Values.SPEECH_PROCESSING_ENDPOINT }}"
  BOTIUMBOX_SCANFORTESTSETS: "{{ .Values.BOTIUMBOX_SCANFORTESTSETS }}"
  PRISMA_CONFIG_FILE: "/app/prisma-config/prisma-config.json"
  ZAP_ENDPOINT: "{{ .Values.ZAP_ENDPOINT }}"
  SMTP_HOST: "{{ .Values.SMTP_HOST }}"
  SMTP_PORT: "{{ .Values.SMTP_PORT }}"
  {{- if .Values.SMTP_SECURE }}
  SMTP_SECURE: "1"
  {{- end }}
  BOTIUMBOX_AGENT_LIST: "{{- range untilStep 1 (.Values.AGENT_COUNT | add 1 | int) 1 }}box-agent-{{ . }},{{- end }}{{- range untilStep 1 (.Values.AGENTP_COUNT | add 1 | int) 1 }}box-agentp-{{ . }},{{- end }}"
  BOTIUMBOX_QUEUE_PREFIX: "{{ .Values.BOTIUMBOX_QUEUE_PREFIX }}"
  BOTIUMBOX_CLEANUP_JOB_INTERVAL_MINUTES: "{{ .Values.BOTIUMBOX_CLEANUP_JOB_INTERVAL_MINUTES }}"
  BOTIUMBOX_KEEP_SUCCESS_SCREENSHOTS_DAYS: "{{ .Values.BOTIUMBOX_KEEP_SUCCESS_SCREENSHOTS_DAYS }}"
  BOTIUMBOX_KEEP_SUCCESS_CONVERSATION_DAYS: "{{ .Values.BOTIUMBOX_KEEP_SUCCESS_CONVERSATION_DAYS }}"
  BOTIUMBOX_KEEP_FAILED_SCREENSHOTS_DAYS: "{{ .Values.BOTIUMBOX_KEEP_FAILED_SCREENSHOTS_DAYS }}"
  BOTIUMBOX_KEEP_FAILED_CONVERSATION_DAYS: "{{ .Values.BOTIUMBOX_KEEP_FAILED_CONVERSATION_DAYS }}"
  BOTIUMBOX_KEEP_COACH_DETAILS_DAYS: "{{ .Values.BOTIUMBOX_KEEP_COACH_DETAILS_DAYS }}"
  NODE_OPTIONS: "{{ .Values.NODE_OPTIONS }}"
  JWT_EXPIRY_MINUTES: "{{ .Values.JWT_EXPIRY_MINUTES }}"
  {{- if .Values.BOTIUMBOX_LOG_JSON }}
  BOTIUMBOX_LOG_JSON: "1"
  {{- else }}
  BOTIUMBOX_LOG_JSON: "0"
  {{- end }}
  BOTIUMBOX_FQDN: "{{ .Values.FQDN }}"
  BOTIUMBOX_FQDN_CLIENTID_PREFIX: "{{ .Values.FQDN_CLIENTID_PREFIX }}"
  BOTIUMBOX_FQDN_CLIENTID_SUFFIX: "{{ .Values.FQDN_CLIENTID_SUFFIX }}"
  OPENAI_RATE_BY_MINUTE: "{{ .Values.OPENAI_RATE_BY_MINUTE }}"
