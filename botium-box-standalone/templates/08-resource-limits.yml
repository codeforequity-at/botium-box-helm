{{- if eq .Values.ENABLE_RESOURCE_LIMIT true }}
apiVersion: v1
kind: LimitRange
metadata:
  name: cpu-limit-range
spec:
  limits:
  - default:
      cpu: {{ .Values.RESOURCE_CPU_LIMIT }}
    defaultRequests:
      cpu: 10m
    type: Container
---
apiVersion: v1
kind: LimitRange
metadata:
  name: mem-limit-range
spec:
  limits:
  - default:
      memory: {{ .Values.RESOURCE_MEM_LIMIT }}
    type: Container
{{- end }}
